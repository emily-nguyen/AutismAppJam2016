<!DOCTYPE html>
<head>
	<title>My Entry</title>
	<!-- FONTS -->
	<link href='http://fonts.googleapis.com/css?family=Archivo+Narrow:400,400italic' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Oxygen' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Oswald:300' rel='stylesheet' type='text/css'>
	
	<!-- STYLESHEET -->
	<link rel="stylesheet" type="text/css" href="css/appStyle.css"></head>
<body>
	
	<h2 id="dateOfEntry"></h2>
	<h3>Journal Entry</h3>
	<p id="savedEntry"></p>
	<h3>Lesson Learned</h3>
	<p id="savedLesson"></p>
	<br>
	
	<form class="threeButtons" action="index.html">
		<input type="submit" value="Back">
	</form>
	<form class="threeButtons" action="index.html" align="center">
		<input id="deleteButton" type="submit" value="Delete">
	</form>
	<form class="threeButtons" action="journalEdit.html" align="right">
		<input type="submit" value="Edit">
	</form>
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="js/appScript.js"></script>
	<script>
	
		//Sets the html content to the journal entry and the lesson learned
		$(document).ready(function(){
			var params = localStorage.getItem("keyofkey");
			console.log(params);
			var lst = params.split('</td><td>');
			var key = lst[0].split('>')[1];
			var lesson = lst[1].split('</td>')[0];
			console.log(key);
			console.log(lesson);
			$("#dateOfEntry").html(key);
			var data = localStorage.getItem(key);
			console.log(data);
			var parts = data.split("EEKKS");
			var entry = parts[0];
			var lines = entry.split("\n");
			//replacing all \n with <br>
			//later on, learn to use regex in javascipt...
			var htmlString = "";
			for(var i=0; i<lines.length; i++){
				htmlString += lines[i];
				htmlString += "<br>";
			}
			$("#savedEntry").html(htmlString);
			$("#savedLesson").html(lesson);
		});
	</script>
</body>